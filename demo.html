<!DOCTYPE html>
<html ng-app="demoApp">

<head lang="en">
    <meta charset="UTF-8">
    <title>netcareNavMenu</title>
    <link href="css/bootstrap.css" rel="stylesheet"/>
    <link href="css/bootstrap-theme.css" rel="stylesheet"/>
    <link href="css/font-awesome.css" rel="stylesheet"/>
    <link href="css/uinavmenu.css" rel="stylesheet"/>
    <script src="lib/angular.min.js"></script>
    <script src="js/uiNavMenu.js"></script>
    <script>
        angular.module('demoApp', ['uiNavMenu'])
                .controller('demoCtrl', function ($scope,$http,uiNavMenuEvent) {
                    $scope.loadData = function () {
                        $http.get('menu.json').success(function (data) {
                            $scope.menus = data;
                        });
                    }

                    $scope.$on(uiNavMenuEvent.clickMenuItem, function (event,menu) {
                        $scope.selectMenu = menu;
                        $scope.$broadcast('menuTrigger');
                    });

                    $scope.openMenu = function($event){
                        $scope.$broadcast('menuTrigger');
                        $event.stopPropagation();
                    }

                    $scope.loadData();
                })
                .controller('navMenuCrtl',function($scope){
                    $scope.isOpen = false;
                    $scope.$on('menuTrigger',function(){
                        $scope.isOpen = !$scope.isOpen;
                    })
                });
    </script>
</head>

<body ng-controller="demoCtrl">
<nav id="top-navbar" class="fixed">
    <div class="top-navbar-header">
        <a href="#/" class="top-navbar-brand">
            <small>NetCare</small>
        </a>
    </div>
    <div class="top-navbar-wrapper">
        <ul class="top-nav top-navbar-nav">
            <li class="sidebar-toggle" ng-click="openMenu($event)">
                <a class="menu-leaf" href="#">
                    <i class="fa fa-bars fa-lg"></i>
                </a>
            </li>
            <li class="hiddenPc" ng-click="openMenu($event)">
                <a class="menu-leaf" href="#">
                    <i class="fa fa-bars fa-lg"></i>
                </a>
            </li>
            <li>
                <a href="#">
                    <i class="fa fa-list fa-lg"></i>
                </a>
            </li>
        </ul>
        <ul class="top-nav top-navbar-nav pull-right">
            <li>
                <a href="#">
                    <i class="fa fa-bell fa-lg"></i>
                </a>
            </li>
            <li>
                <a href="#">
                    <i class="fa fa-joomla fa-lg"></i>
                </a>
            </li>
            <li>
                <a href="#">
                    <span class="glyphicon glyphicon-user"></span>
                </a>
            </li>
        </ul>
    </div>
</nav>
<aside ng-controller="navMenuCrtl">
    <nav class="main-menu-wrapper" ng-class="{'open':isOpen}">
        <ui-nav-menu class="main-menu-nav" source="menus"></ui-nav-menu>
    </nav>
</aside>
<div class="main-panel">
    <div class="main-panel-content">
        selected: {{ selectMenu.name }}</div>
    </div>
</div>
</body>

</html>